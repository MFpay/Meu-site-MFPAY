<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8"><title>Soberano Admin | MF PAY</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #020617; color: white; font-family: sans-serif; }
        .tab-active { border-bottom: 2px solid #22c55e; color: #22c55e; }
        .card-payout { background: linear-gradient(145deg, #0f172a, #1e293b); border: 1px solid #334155; }
        .matrix-text { font-family: 'Fira Code', monospace; color: #10b981; }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-5xl mx-auto space-y-6">
        
        <header class="flex justify-between items-center bg-[#0f172a] p-6 rounded-[35px] border border-slate-800 shadow-2xl">
            <div>
                <h1 class="text-xl font-black text-green-500 italic">MF<span class="text-white">ADMIN</span></h1>
                <p id="lucro-total" class="text-[10px] font-bold text-slate-500 uppercase tracking-[0.2em]">LUCRO TOTAL MF: R$ 0,00</p>
            </div>
            <div class="flex gap-2">
                <button onclick="toggleLock()" id="lock-btn" class="bg-slate-800 text-white px-6 py-3 rounded-2xl font-black text-[10px] uppercase transition-all shadow-lg hover:bg-slate-700">üîí Lockdown</button>
                <button onclick="location.href='index.html'" class="bg-red-500/10 text-red-500 px-4 py-2 rounded-xl text-[10px] font-bold border border-red-500/20">SAIR</button>
            </div>
        </header>

        <nav class="flex gap-6 border-b border-slate-800 pb-3">
            <button onclick="tab('fila')" id="t-fila" class="tab-active text-[10px] font-black uppercase tracking-widest">üõí Pedidos & Saques</button>
            <button onclick="tab('ban')" id="t-ban" class="text-slate-500 text-[10px] font-black uppercase tracking-widest">üö´ Blacklist</button>
            <button onclick="tab('cfg')" id="t-cfg" class="text-slate-500 text-[10px] font-black uppercase tracking-widest">‚öôÔ∏è Configs</button>
        </nav>

        <div id="fila" class="tab-content space-y-4 pt-4">
            <div id="lista-pedidos"></div>
        </div>

        <div id="ban" class="hidden tab-content bg-[#0f172a] p-8 rounded-[40px] border border-slate-800">
            <h3 class="text-xs font-black text-red-500 uppercase mb-4 italic">Banimento Instant√¢neo</h3>
            <div class="flex gap-2 mb-6">
                <input type="text" id="u-ban" placeholder="Digite o usu√°rio para banir" class="flex-1 bg-slate-900 p-4 rounded-2xl border border-slate-700 text-xs text-white outline-none focus:border-red-500 transition-all">
                <button onclick="banir()" class="bg-red-600 text-white px-8 rounded-2xl font-black text-[10px] hover:bg-red-700">BANIR AGORA</button>
            </div>
            <p class="text-[9px] font-bold text-slate-600 uppercase mb-2">Usu√°rios na Lista Negra:</p>
            <div id="lista-bans" class="flex flex-wrap gap-2"></div>
        </div>

        <div id="cfg" class="hidden tab-content bg-[#0f172a] p-8 rounded-[40px] border border-slate-800">
            <p class="text-[10px] font-bold text-slate-500 uppercase mb-2 italic">Chave PIX Oficial MF PAY (Para Recebimento)</p>
            <input type="text" id="c-pix" class="w-full bg-slate-900 p-4 rounded-2xl border border-slate-700 text-xs font-bold mb-4 text-green-500 outline-none">
            <button onclick="salvarPix()" class="w-full bg-green-500 text-black font-black py-4 rounded-2xl text-[10px] uppercase hover:bg-green-400 transition-all">Salvar Configura√ß√µes</button>
        </div>
    </div>

<script>
    function tab(id) {
        document.querySelectorAll('.tab-content').forEach(c => c.classList.add('hidden'));
        document.getElementById(id).classList.remove('hidden');
        document.querySelectorAll('nav button').forEach(b => b.className = "text-slate-500 text-[10px] font-black uppercase tracking-widest");
        document.getElementById('t-'+id).className = "tab-active text-[10px] font-black uppercase tracking-widest";
    }

    function copiarChave(chave) {
        navigator.clipboard.writeText(chave);
        alert("Chave PIX copiada! V√° ao seu banco para realizar o pagamento.");
    }

    function render() {
        const p = JSON.parse(localStorage.getItem('mf_ped') || 'null');
        const lista = document.getElementById('lista-pedidos');
        
        if(!p) {
            lista.innerHTML = `<div class="p-20 text-center flex flex-col items-center">
                <p class="text-slate-700 text-[10px] font-bold uppercase animate-pulse italic tracking-[0.3em]">Monitorando novas transa√ß√µes...</p>
            </div>`;
        } else {
            const isSaque = p.tipo === 'SAQ';
            lista.innerHTML = `
            <div class="p-8 rounded-[40px] card-payout flex flex-col md:flex-row justify-between items-center shadow-2xl gap-6 border-l-4 ${isSaque ? 'border-l-blue-500' : 'border-l-green-500'} animate-in slide-in-from-bottom-5">
                <div class="flex-1">
                    <div class="flex items-center gap-3 mb-2">
                        <span class="${isSaque ? 'bg-blue-600' : 'bg-green-600'} text-black text-[9px] px-3 py-1 rounded-full font-black uppercase">${isSaque ? 'Saque' : 'Dep√≥sito'}</span>
                        <p class="text-[10px] font-black text-slate-400 uppercase">Usu√°rio: ${p.user}</p>
                    </div>
                    <h2 class="text-5xl font-black italic tracking-tighter mb-4">R$ ${p.valor}</h2>
                    
                    ${isSaque ? `
                        <div class="bg-black/40 p-5 rounded-3xl border border-white/5 space-y-2">
                            <p class="text-[9px] text-slate-500 uppercase font-black">Dados Banc√°rios do Cliente</p>
                            <div class="flex items-center justify-between bg-slate-900/50 p-3 rounded-xl border border-slate-700">
                                <span class="text-xs font-mono text-green-400 font-bold">${p.pix_key}</span>
                                <button onclick="copiarChave('${p.pix_key}')" class="text-[9px] bg-green-500 text-black px-3 py-1 rounded-lg font-black uppercase">Copiar</button>
                            </div>
                            <p class="text-[8px] text-slate-500 uppercase font-bold tracking-widest">TIPO: ${p.pix_type}</p>
                        </div>
                    ` : `
                        <p class="text-[10px] text-slate-500">Aguardando confirma√ß√£o de dep√≥sito em conta.</p>
                    `}
                    ${p.comprovante ? `<a href="${p.comprovante}" target="_blank" class="text-[9px] text-blue-400 font-bold underline mt-4 block uppercase tracking-widest">Ver Comprovante Anexo</a>` : ''}
                </div>

                <div class="flex flex-col gap-2 w-full md:w-auto">
                    <button onclick="proc('OK','${p.valor}','${p.user}','${p.tipo}')" class="bg-green-500 text-black px-12 py-5 rounded-[25px] font-black text-[11px] uppercase shadow-lg hover:bg-green-400 transition-all">Aprovar Pedido</button>
                    <button onclick="proc('REC',0,'${p.user}')" class="bg-slate-900 text-red-500 border border-red-500/20 px-12 py-4 rounded-[25px] font-black text-[11px] uppercase hover:bg-red-950 transition-all">Recusar</button>
                </div>
            </div>`;
        }

        // Lockdown UI
        const l = localStorage.getItem('mf_lockdown') === 'true';
        const btn = document.getElementById('lock-btn');
        btn.innerText = l ? "üîì Abrir Site" : "üîí Lockdown";
        btn.className = l ? "bg-red-600 text-white px-6 py-3 rounded-2xl font-black text-[10px] uppercase animate-pulse" : "bg-slate-800 text-white px-6 py-3 rounded-2xl font-black text-[10px] uppercase";

        // Blacklist UI
        const bans = JSON.parse(localStorage.getItem('mf_blacklist') || '[]');
        document.getElementById('lista-bans').innerHTML = bans.map(b => `<span class="bg-red-500/10 text-red-500 px-3 py-1 rounded-lg border border-red-500/20 uppercase font-bold text-[9px]">${b} <button onclick="removerBan('${b}')" class="ml-1 text-white">√ó</button></span>`).join('');
        
        // Lucro UI
        const lucro = parseFloat(localStorage.getItem('mf_lucro_total') || 0);
        document.getElementById('lucro-total').innerText = `LUCRO TOTAL MF: R$ ${lucro.toFixed(2)}`;
    }

    function proc(s, v, u, t) {
        if(s === 'OK') {
            let b = parseFloat(localStorage.getItem('bal_'+u) || 0);
            if(t === 'SAQ') {
                localStorage.setItem('bal_'+u, (b - parseFloat(v)).toFixed(2));
                // Lucro: R$ 5,00 por saque aprovado
                let currentLucro = parseFloat(localStorage.getItem('mf_lucro_total') || 0);
                localStorage.setItem('mf_lucro_total', (currentLucro + 5.00).toFixed(2));
            } else {
                localStorage.setItem('bal_'+u, (b + parseFloat(v)).toFixed(2));
            }
            alert("‚úÖ Transa√ß√£o Conclu√≠da!");
        } else {
            alert("‚ùå Pedido Recusado!");
        }
        localStorage.removeItem('mf_ped'); render();
    }

    function toggleLock() {
        const s = localStorage.getItem('mf_lockdown') === 'true';
        localStorage.setItem('mf_lockdown', !s);
        render();
    }

    function banir() {
        const u = document.getElementById('u-ban').value.toLowerCase().trim(); if(!u) return;
        let b = JSON.parse(localStorage.getItem('mf_blacklist') || '[]');
        if(!b.includes(u)) b.push(u);
        localStorage.setItem('mf_blacklist', JSON.stringify(b));
        document.getElementById('u-ban').value = '';
        render();
    }

    function removerBan(u) {
        let b = JSON.parse(localStorage.getItem('mf_blacklist') || '[]');
        b = b.filter(user => user !== u);
        localStorage.setItem('mf_blacklist', JSON.stringify(b));
        render();
    }

    function salvarPix() {
        localStorage.setItem('mf_pix', document.getElementById('c-pix').value);
        alert("Configura√ß√µes Salvas!");
    }

    document.getElementById('c-pix').value = localStorage.getItem('mf_pix') || '';
    setInterval(render, 3000); render();
</script>
</body>
</html>
