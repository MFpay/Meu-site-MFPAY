<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MF-ADMIN</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white p-6">
    <h1 class="text-2xl font-black mb-8 text-[#00e38c]">SISTEMA MF-ADMIN</h1>
    <div id="lista" class="space-y-4"></div>

<script>
    const DB_URL = "https://api.jsonbin.io/v3/b/65cd2a96dc74654018b36873";
    const KEY = "$2a$10$ExemploChaveMestreMFPAY2026";

    async function carregar() {
        const res = await fetch(DB_URL, { headers: { "X-Master-Key": KEY }});
        const data = await res.json();
        const db = data.record;
        let html = '';
        for (let u in db.usuarios) {
            html += `<div class="bg-zinc-900 p-5 rounded-2xl flex justify-between items-center border border-white/5">
                <div><p class="text-[10px] text-zinc-500">${u}</p><p class="text-lg font-bold">R$ ${db.usuarios[u].saldo.toFixed(2)}</p></div>
                <button onclick="add('${u}')" class="bg-[#00e38c] text-black px-4 py-2 rounded-xl font-black text-[10px]">+ R$ 10</button>
            </div>`;
        }
        document.getElementById('lista').innerHTML = html;
    }

    async function add(u) {
        const res = await fetch(DB_URL, { headers: { "X-Master-Key": KEY }});
        const data = await res.json();
        let db = data.record;
        db.usuarios[u].saldo += 10;
        await fetch(DB_URL, {
            method: 'PUT', headers: { "Content-Type": "application/json", "X-Master-Key": KEY },
            body: JSON.stringify(db)
        });
        carregar();
    }
    carregar();
</script>
</body>
</html>
